$ docker compose -f infra/docker-compose.yml --env-file .env --profile realtime up -d
bash: command not found: docker
$ python -m scripts.replay_events --fixture tests/fixtures/replay/event_log_fixture.jsonl --speed max
Traceback (most recent call last):
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 998, in connect_check_health
    sock = self._connect()
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 1512, in _connect
    raise err
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 1496, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/runpy.py", line 196, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/runpy.py", line 86, in _run_code
    exec(code, run_globals)
  File "/workspace/stockvn/scripts/replay_events.py", line 144, in <module>
    main()
  File "/workspace/stockvn/scripts/replay_events.py", line 139, in main
    replayed = replay_into_redis(events, redis_client, speed=args.speed, dry_run=args.dry_run)
  File "/workspace/stockvn/scripts/replay_events.py", line 72, in replay_into_redis
    redis_client.xadd(
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/commands/core.py", line 3958, in xadd
    return self.execute_command("XADD", name, *pieces)
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/client.py", line 716, in execute_command
    return self._execute_command(*args, **options)
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/client.py", line 722, in _execute_command
    conn = self.connection or pool.get_connection()
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/utils.py", line 236, in wrapper
    return func(*args, **kwargs)
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 2958, in get_connection
    connection.connect()
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 976, in connect
    self.retry.call_with_retry(
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/retry.py", line 132, in call_with_retry
    raise error
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/retry.py", line 120, in call_with_retry
    return do()
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 977, in <lambda>
    lambda: self.connect_check_health(
  File "/root/.pyenv/versions/3.10.19/lib/python3.10/site-packages/redis/connection.py", line 1022, in connect_check_health
    raise e
redis.exceptions.ConnectionError: Error 111 connecting to localhost:6379. Connection refused.
$ docker compose -f infra/docker-compose.yml --env-file .env --profile realtime ps
bash: command not found: docker
